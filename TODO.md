add in to emitwhen the option to have the event be a function called or an array of function/events. 

do an example of logs and get the log stuff strewn in.